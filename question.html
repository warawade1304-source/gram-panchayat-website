<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§æ‡§µ‡§≤‡•Ä | ‡§ó‡•ç‡§∞‡§æ‡§Æ‡§™‡§Ç‡§ö‡§æ‡§Ø‡§§ ‡§µ‡§∞‡§µ‡§°‡•á</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#f4f6f8;
}
.top-header{
  text-align:center;
  padding:20px;
  font-size:26px;
  font-weight:bold;
  background:linear-gradient(to right,#ff9933,#ffffff,#138808);
}
.menu{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  background:#003f7f;
}
.menu a{
  color:#fff;
  padding:12px 16px;
  text-decoration:none;
  font-weight:bold;
}
.menu a:hover,.menu a.active{background:#002a55;}

.container{
  max-width:1200px;
  margin:20px auto;
  background:#fff;
  padding:20px;
  border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,0.15);
}

.question-card{
  border-left:5px solid #003f7f;
  background:#f9fafb;
  padding:15px;
  border-radius:8px;
  margin-bottom:20px;
}

.proofs img{
  width:100%;
  max-width:220px;
  border-radius:8px;
  margin:6px;
  cursor:pointer;
  transition:0.2s;
}
.proofs img:hover{
  transform:scale(1.05);
  box-shadow:0 2px 8px rgba(0,0,0,0.3);
}

.nav-btns{
  display:flex;
  justify-content:space-between;
  margin-top:15px;
}
button{
  padding:10px 18px;
  border:none;
  background:#003f7f;
  color:#fff;
  border-radius:6px;
  cursor:pointer;
}
button:disabled{background:#999;}

/* ---------- IMAGE MODAL ---------- */
#imgModal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.85);
  z-index:9999;
  justify-content:center;
  align-items:center;
  flex-direction:column;
}
#modalImg{
  max-width:95%;
  max-height:85%;
  border-radius:10px;
}
.modal-controls{
  margin-top:10px;
}
.modal-controls button{
  background:#fff;
  color:#000;
  margin:0 10px;
  font-size:18px;
  padding:8px 14px;
}
</style>
</head>

<body>

<div class="top-header">üìÑ ‡§ó‡•ç‡§∞‡§æ‡§Æ‡§™‡§Ç‡§ö‡§æ‡§Ø‡§§ ‡§µ‡§∞‡§µ‡§°‡•á ‚Äì ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§æ‡§µ‡§≤‡•Ä</div>

<div class="menu">
  <a href="index.html">‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§™‡§æ‡§®</a>
  <a href="notices.html">‡§®‡•ã‡§ü‡•Ä‡§∏ ‡§¨‡•ã‡§∞‡•ç‡§°</a>
  <a href="question.html" class="active">‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§æ‡§µ‡§≤‡•Ä</a>
  <a href="gallery.html">‡§´‡•ã‡§ü‡•ã ‡§ó‡•Ö‡§≤‡§∞‡•Ä</a>
</div>

<div class="container">
  <h2>‡§Ö‡§≠‡§ø‡§Ø‡§æ‡§® ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§µ‡§æ‡§π‡•Ä</h2>
  <div id="questionArea">‡§≤‡•ã‡§° ‡§π‡•ã‡§§ ‡§Ü‡§π‡•á...</div>

  <div class="nav-btns">
    <button id="prevBtn">Previous</button>
    <button id="nextBtn">Next</button>
  </div>
</div>

<!-- IMAGE MODAL -->
<div id="imgModal">
  <img id="modalImg">
  <div class="modal-controls">
    <button onclick="prevPhoto()">‚ü® Prev</button>
    <button onclick="closeModal()">‚úñ Close</button>
    <button onclick="nextPhoto()">Next ‚ü©</button>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
<script>
const sheetURL =
"https://docs.google.com/spreadsheets/d/e/2PACX-1vTcFT9M0fQK1TI1FgzTwUTTmK5CIsA7yK5zXPSoZ0SkjzGtuDmyKhvaXjPedNlnHy8zCWGRyNIwj7WU/pub?output=csv";

let questions = [];
let current = 0;

/* ----- IMAGE GALLERY STATE ----- */
let currentPhotos = [];
let photoIndex = 0;

function showQuestion(index){
  const q = questions[index];
  const container = document.getElementById("questionArea");

  currentPhotos = [];
  let photosHTML = "";

  for(let i=1;i<=5;i++){
    if(q[`photo${i}`]){
      currentPhotos.push(q[`photo${i}`]);
      photosHTML += `
        <img src="${q[`photo${i}`]}" 
             onclick="openModal(${currentPhotos.length-1})">
      `;
    }
  }

  container.innerHTML = `
    <div class="question-card">
      <div style="flex:1; background:#ffe0e0; padding:8px; text-align:center; border-radius:6px;"><b>‡§è‡§ï‡•Ç‡§£ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ó‡•Å‡§£:</b><br> ${q["Total Marks"] ||""}</div>
      <b>‡§Ö. ‡§ï‡•ç‡§∞.:</b> ${q["‡§Ö. ‡§ï‡•ç‡§∞."]}<br><br>
      <b>‡§ï‡§æ‡§Æ‡§æ‡§ö‡•á ‡§§‡§™‡§∂‡•Ä‡§≤:</b> ${q["‡§Ö‡§≠‡§ø‡§Ø‡§æ‡§® ‡§ï‡§æ‡§≤‡§æ‡§µ‡§ß‡•Ä ‡§™‡§∞‡•ç‡§Ø‡§Ç‡§§ ‡§ï‡§∞‡§æ‡§µ‡§Ø‡§æ‡§ö‡•ç‡§Ø‡§æ ‡§ï‡§æ‡§Æ‡§æ‡§ö‡•á ‡§§‡§™‡§∂‡•Ä‡§≤"]}<br><br>
      <b>‡§ï‡§æ‡§∞‡•ç‡§Ø‡§µ‡§æ‡§π‡•Ä‡§ö‡•á ‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™:</b> ${q["‡§ï‡§æ‡§∞‡•ç‡§Ø‡§µ‡§æ‡§π‡•Ä‡§ö‡•á ‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™"]}

      <div style="display:flex;gap:10px;margin:15px 0;flex-wrap:wrap;">
        <div style="flex:1;background:#d0e1ff;padding:8px;border-radius:6px;text-align:center;">
          <b>‡§ó‡•Å‡§£</b><br>${q["‡§ó‡•Å‡§£"]}
        </div>
        <div style="flex:1;background:#dff5d0;padding:8px;border-radius:6px;text-align:center;">
          <b>‡§â‡§¶‡•ç‡§¶‡•Ä‡§∑‡•ç‡§ü</b><br>${q["‡§â‡§¶‡•ç‡§¶‡•Ä‡§∑‡•ç‡§ü"]}
        </div>
        <div style="flex:1;background:#fff1d0;padding:8px;border-radius:6px;text-align:center;">
          <b>‡§∏‡§æ‡§ß‡•ç‡§Ø</b><br>${q["‡§∏‡§æ‡§ß‡•ç‡§Ø"]}
        </div>
        <div style="flex:1;background:#ffe0e0;padding:8px;border-radius:6px;text-align:center;">
          <b>‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ %</b><br>${q["‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ %"]}
        </div>
      </div>

      <div class="proofs">${photosHTML}</div>
    </div>
  `;

  prevBtn.disabled = (index === 0);
  nextBtn.disabled = (index === questions.length-1);
}

/* ----- MODAL FUNCTIONS ----- */
function openModal(i){
  photoIndex = i;
  document.getElementById("modalImg").src = currentPhotos[photoIndex];
  document.getElementById("imgModal").style.display="flex";
}
function closeModal(){
  document.getElementById("imgModal").style.display="none";
}
function nextPhoto(){
  if(photoIndex < currentPhotos.length-1){
    photoIndex++;
    modalImg.src = currentPhotos[photoIndex];
  }
}
function prevPhoto(){
  if(photoIndex > 0){
    photoIndex--;
    modalImg.src = currentPhotos[photoIndex];
  }
}

/* keyboard support */
document.addEventListener("keydown",e=>{
  if(imgModal.style.display==="flex"){
    if(e.key==="ArrowRight") nextPhoto();
    if(e.key==="ArrowLeft") prevPhoto();
    if(e.key==="Escape") closeModal();
  }
});

/* ----- NAVIGATION ----- */
prevBtn.onclick=()=>{ if(current>0){current--;showQuestion(current);} };
nextBtn.onclick=()=>{ if(current<questions.length-1){current++;showQuestion(current);} };

/* ----- LOAD SHEET ----- */
Papa.parse(sheetURL,{
  download:true,
  header:true,
  complete:r=>{
    questions=r.data.filter(q=>q["‡§Ö. ‡§ï‡•ç‡§∞."]);
    showQuestion(0);
  }
});
</script>

</body>
</html>
