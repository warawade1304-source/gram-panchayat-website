<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§æ‡§µ‡§≤‡•Ä | ‡§ó‡•ç‡§∞‡§æ‡§Æ‡§™‡§Ç‡§ö‡§æ‡§Ø‡§§ ‡§µ‡§∞‡§µ‡§°‡•á</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#f4f6f8;
}

/* üîµ HEADER */
.top-header{
  text-align:center;
  padding:18px;
  font-size:26px;
  font-weight:bold;
  background:linear-gradient(to right,#ff9933,#ffffff,#138808);
}

/* üü¢ TOTAL MARKS FIXED */
.total-banner{
  position:sticky;
  top:0;
  z-index:1000;
  background:#003f7f;
  color:#fff;
  text-align:center;
  padding:10px;
  font-size:18px;
  font-weight:bold;
}

/* MENU */
.menu{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  background:#003f7f;
}
.menu a{
  color:#fff;
  padding:12px 16px;
  text-decoration:none;
  font-weight:bold;
}
.menu a:hover,.menu a.active{background:#002a55;}

.container{
  max-width:1200px;
  margin:20px auto;
  background:#fff;
  padding:20px;
  border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,0.15);
}

/* üîµ QUESTION NAV */
.question-top-nav{
  display:flex;
  gap:6px;
  overflow-x:auto;
  padding:10px;
  margin-bottom:15px;
  background:#eef3ff;
  border-radius:8px;
}
.q-circle{
  min-width:30px;
  height:30px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:11px;
  font-weight:bold;
  cursor:pointer;
  border:2px solid #555;
}

/* üî• PERCENTAGE COLORS */
.mark-0{background:#ef4444;color:#fff;}
.mark-low{background:#fb923c;color:#000;}
.mark-mid{background:#fde047;color:#000;}
.mark-full{background:#22c55e;color:#fff;}

.q-circle.active{
  outline:3px solid #003f7f;
}

/* üé® SECTION COLORS */
.sec1{box-shadow:0 0 0 3px #93c5fd inset;}
.sec2{box-shadow:0 0 0 3px #86efac inset;}
.sec3{box-shadow:0 0 0 3px #fde68a inset;}
.sec4{box-shadow:0 0 0 3px #f9a8d4 inset;}
.sec5{box-shadow:0 0 0 3px #5eead4 inset;}
.sec6{box-shadow:0 0 0 3px #c4b5fd inset;}
.sec7{box-shadow:0 0 0 3px #fde68a inset;}
.sec8{box-shadow:0 0 0 3px #e5e7eb inset;}

.question-card{
  border-left:6px solid #003f7f;
  background:#f9fafb;
  padding:15px;
  border-radius:8px;
}

/* üì∏ THUMBNAILS */
.proofs img{
  max-width:220px;
  margin:6px;
  border-radius:8px;
  cursor:pointer;
}

/* üî≤ LIGHTBOX */
.lightbox{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.85);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.lightbox img{
  max-width:90%;
  max-height:85%;
}
.lb-btn{
  position:absolute;
  color:#fff;
  font-size:32px;
  cursor:pointer;
}
.lb-close{top:20px;right:30px;}
.lb-prev{left:30px;}
.lb-next{right:30px;}

.nav-btns{
  display:flex;
  justify-content:space-between;
  margin-top:15px;
}
button{
  padding:10px 18px;
  border:none;
  background:#003f7f;
  color:#fff;
  border-radius:6px;
}
</style>
</head>

<body>

<div class="top-header">üìÑ ‡§ó‡•ç‡§∞‡§æ‡§Æ‡§™‡§Ç‡§ö‡§æ‡§Ø‡§§ ‡§µ‡§∞‡§µ‡§°‡•á ‚Äì ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§æ‡§µ‡§≤‡•Ä</div>
<div class="total-banner" id="totalMarks">Total Marks : --</div>

<div class="menu">
  <a href="index.html">‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§™‡§æ‡§®</a>
  <a href="question.html" class="active">‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§∏‡•Ç‡§ö‡•Ä</a>
</div>

<div class="container">
  <div id="questionNav" class="question-top-nav"></div>
  <div id="questionArea"></div>

  <div class="nav-btns">
    <button id="prevBtn">Previous</button>
    <button id="nextBtn">Next</button>
  </div>
</div>

<!-- LIGHTBOX -->
<div id="lightbox" class="lightbox">
  <span class="lb-btn lb-close" onclick="closeLB()">‚úñ</span>
  <span class="lb-btn lb-prev" onclick="prevPhoto()">‚ùÆ</span>
  <img id="lbImg">
  <span class="lb-btn lb-next" onclick="nextPhoto()">‚ùØ</span>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
<script>
const sheetURL="https://docs.google.com/spreadsheets/d/e/2PACX-1vTcFT9M0fQK1TI1FgzTwUTTmK5CIsA7yK5zXPSoZ0SkjzGtuDmyKhvaXjPedNlnHy8zCWGRyNIwj7WU/pub?output=csv";
let questions=[],current=0,photos=[],photoIndex=0;

/* SECTION */
function sec(no){
  no=String(no);
  if(no.startsWith("1."))return"sec1";
  if(no.startsWith("2."))return"sec2";
  if(no.startsWith("3."))return"sec3";
  if(no.startsWith("4."))return"sec4";
  if(no.startsWith("5."))return"sec5";
  if(no.startsWith("6."))return"sec6";
  if(no.startsWith("7."))return"sec7";
  return"sec8";
}

/* MARK COLOR */
function markClass(v){
  v=Number(v)||0;
  if(v===0)return"mark-0";
  if(v<=50)return"mark-low";
  if(v<100)return"mark-mid";
  return"mark-full";
}

/* NAV */
function renderNav(){
  questionNav.innerHTML="";
  questions.forEach((q,i)=>{
    let d=document.createElement("div");
    d.className="q-circle "+sec(q["‡§Ö. ‡§ï‡•ç‡§∞."])+" "+markClass(q["Percentage"]);
    d.innerText=q["‡§Ö. ‡§ï‡•ç‡§∞."];
    d.onclick=()=>{current=i;showQuestion(i);highlightActive();};
    questionNav.appendChild(d);
  });
}

/* SHOW QUESTION */
function showQuestion(i){
  let q=questions[i];
  photos=[];
  let imgs="";
  for(let p=1;p<=5;p++){
    if(q[`photo${p}`]){
      photos.push(q[`photo${p}`]);
      imgs+=`<img src="${q[`photo${p}`]}" onclick="openLB(${photos.length-1})">`;
    }
  }
  document.getElementById("totalMarks").innerText="Total Marks : "+(q["Total Marks"]||"--");

  questionArea.innerHTML=`
  <div class="question-card">
    <b>${q["‡§Ö. ‡§ï‡•ç‡§∞."]}</b><br><br>
    ${q["‡§Ö‡§≠‡§ø‡§Ø‡§æ‡§® ‡§ï‡§æ‡§≤‡§æ‡§µ‡§ß‡•Ä ‡§™‡§∞‡•ç‡§Ø‡§Ç‡§§ ‡§ï‡§∞‡§æ‡§µ‡§Ø‡§æ‡§ö‡•ç‡§Ø‡§æ ‡§ï‡§æ‡§Æ‡§æ‡§ö‡•á ‡§§‡§™‡§∂‡•Ä‡§≤"]}<br><br>
    ${q["‡§ï‡§æ‡§∞‡•ç‡§Ø‡§µ‡§æ‡§π‡•Ä‡§ö‡•á ‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™"]}

    <div style="display:flex;gap:10px;flex-wrap:wrap;margin:12px 0;">
      <div style="flex:1;background:#d0e1ff;padding:8px;border-radius:6px;text-align:center;">‡§ó‡•Å‡§£<br>${q["‡§ó‡•Å‡§£"]}</div>
      <div style="flex:1;background:#dff5d0;padding:8px;border-radius:6px;text-align:center;">‡§â‡§¶‡•ç‡§¶‡•Ä‡§∑‡•ç‡§ü<br>${q["‡§â‡§¶‡•ç‡§¶‡•Ä‡§∑‡•ç‡§ü"]}</div>
      <div style="flex:1;background:#fff1d0;padding:8px;border-radius:6px;text-align:center;">‡§∏‡§æ‡§ß‡•ç‡§Ø<br>${q["‡§∏‡§æ‡§ß‡•ç‡§Ø"]}</div>
      <div style="flex:1;background:#ffe0e0;padding:8px;border-radius:6px;text-align:center;">Percentage<br>${q["Percentage"]}%</div>
    </div>

    <div class="proofs">${imgs}</div>
  </div>`;
}

/* LIGHTBOX */
function openLB(i){photoIndex=i;lbImg.src=photos[i];lightbox.style.display="flex";}
function closeLB(){lightbox.style.display="none";}
function nextPhoto(){photoIndex=(photoIndex+1)%photos.length;lbImg.src=photos[photoIndex];}
function prevPhoto(){photoIndex=(photoIndex-1+photos.length)%photos.length;lbImg.src=photos[photoIndex];}

/* LOAD */
Papa.parse(sheetURL,{
  download:true,
  header:true,
  complete:r=>{
    questions=r.data.filter(q=>q["‡§Ö. ‡§ï‡•ç‡§∞."]);
    renderNav();
    showQuestion(0);
    highlightActive();
  }
});

/* NEXT / PREV */
nextBtn.onclick=()=>{if(current<questions.length-1){current++;showQuestion(current);highlightActive();}};
prevBtn.onclick=()=>{if(current>0){current--;showQuestion(current);highlightActive();}};

function highlightActive(){
  document.querySelectorAll(".q-circle").forEach((c,i)=>{
    c.classList.toggle("active",i===current);
  });
}
</script>
</body>
</html>
